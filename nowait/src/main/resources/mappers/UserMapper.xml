<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="ezen.nowait.member.mapper.UserMapper">
	

	<select id="userGet" resultType="ezen.nowait.member.domain.UserVO">
		select * from user where user_id = #{userId}
	</select>


	<insert id="userInsert"> 
	insert into user(user_id,user_pw,user_name,user_birth,user_phone,user_email,user_addr,grade)
	 values(#{userId},#{userPw},#{userName},#{userBirth},#{userPhone},#{userEmail},#{userAddr},#{grade})
	</insert>


	<update id="userUpdate">
		update user
		set 
		user_pw = #{userPw},
		user_name = #{userName},
		user_birth = #{userBirth},
		user_phone = #{userPhone},
		user_email = #{userEmail},
		user_addr = #{userAddr}
<!-- 		
		grade = #{grade},
 		user_regdate = #{userRegdate} -->
<!--   		
만약 view페이지에서 날자 형식이 이상한게 마음에 안들면
VO에서 Date 타입을 String으로 변경하면끗 이 경우 2023-12-05 00:42:58 형태로 출력됨, 다만 영향가는게 있는지는 확인 필요
(현재는 날자가 Tue Dec 05 00:42:58 KST 2023 형태로 나오고있음)

업데이트 구문에서 주석처리 한 이유는 jsp 에서 해당 input을 disabled 처리 해서 post로 데이터 전송시
grade는 0, userRegdate 는 null 로 넘어오고 있어서!

수정한부분
1. jsp 에서 onclick 이벤트 두번 발생중이어서 혹시 꼬일수 있으니 html onclick 에서 이벤트는 지웠구 제이쿼리 click 이벤트만 작동하도록함
2. 이 주석이랑 userAddr 뒤에 ',' 지웠슴
-->
		where user_id = #{userId}
	</update>
	
	<delete id="userDelete">
		delete from user where user_id = #{userId}
	</delete>
	
	<select id="idCheck" resultType="int"> 
	select count(*) from user where user_id = #{userId}
	 </select>



</mapper>